"use client";
import { DooglyButton } from "@doogly/react";
import { ethers } from "ethers";
import { useState } from "react";

export default function Page() {
  const [recipient, setRecipient] = useState<`0x${string}`>();

  const erc20Abi = [
    {
      constant: false,
      inputs: [
        {
          name: "_spender",
          type: "address",
        },
        {
          name: "_value",
          type: "uint256",
        },
      ],
      name: "approve",
      outputs: [
        {
          name: "",
          type: "bool",
        },
      ],
      payable: false,
      stateMutability: "nonpayable",
      type: "function",
    },
  ];

  const callData = `0x3e86ff700000000000000000000000000000000000000000000000000000000000000020000000000000000000000000833589fcd6edb6e08f4c7c32d4f71b54bda0291300000000000000000000000000000000000000000000000000000000000186a000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000ee00000000000000000000000000000000000000000000000000000000000003840000000000000000000000000000000000000000000000000009962a70d08b82c00000000000000000000000023418de10d422ad71c9d5713a2b8991a9c586443000000000000000000000000${
    recipient?.slice(2) ?? "0x0000000000000000000000000000000000000000"
  }000000000000000000000000000000000000000000000000000000000000006ec1c4eae70000ffffffffffffc7a942301d92024321995f7f748c2b0687a1cb6070a082310101ffffffffff00833589fcd6edb6e08f4c7c32d4f71b54bda02913095ea7b3010203ffffffffff833589fcd6edb6e08f4c7c32d4f71b54bda029136919e6740000040285ffff00afa82121803b4dac9a2072b349c7983ccdbfd96fd47b0de400000607ffffff0621e890d3da79c78f1b149367cf01d06789f95d39d47b0de400000807ffffff0821e890d3da79c78f1b149367cf01d06789f95d39d47b0de400000907ffffff0921e890d3da79c78f1b149367cf01d06789f95d39d47b0de400000a07ffffff0a21e890d3da79c78f1b149367cf01d06789f95d39d47b0de400000b07ffffff0b21e890d3da79c78f1b149367cf01d06789f95d39d47b0de400000c07ffffff0c21e890d3da79c78f1b149367cf01d06789f95d39d47b0de400000d07ffffff0d21e890d3da79c78f1b149367cf01d06789f95d39d47b0de400000e07ffffff0e21e890d3da79c78f1b149367cf01d06789f95d39d47b0de400000f07ffffff0f21e890d3da79c78f1b149367cf01d06789f95d39d47b0de400001007ffffff1021e890d3da79c78f1b149367cf01d06789f95d39d47b0de400001107ffffff1121e890d3da79c78f1b149367cf01d06789f95d39d47b0de400001207ffffff0021e890d3da79c78f1b149367cf01d06789f95d39d47b0de400061307ffffff1321e890d3da79c78f1b149367cf01d06789f95d39d47b0de400061407ffffff1421e890d3da79c78f1b149367cf01d06789f95d39d47b0de400061507ffffff1521e890d3da79c78f1b149367cf01d06789f95d39d47b0de400061607ffffff1621e890d3da79c78f1b149367cf01d06789f95d39d47b0de400061707ffffff0621e890d3da79c78f1b149367cf01d06789f95d39d47b0de400081807ffffff1821e890d3da79c78f1b149367cf01d06789f95d39d47b0de400081907ffffff0821e890d3da79c78f1b149367cf01d06789f95d394d49dcf80009041a019bffffea698deead412456dbc488f8a9066326d98c34356919e674000a041c9dffffffea698deead412456dbc488f8a9066326d98c34356919e674000b041e9fffffff69b27d52af3e1012afcb97bc77b83a7620abb0926919e674000c041ea0ffffff69b27d52af3e1012afcb97bc77b83a7620abb0926919e674000d0402a1ffffffafa82121803b4dac9a2072b349c7983ccdbfd96f6919e674000e041ea2ffffff69b27d52af3e1012afcb97bc77b83a7620abb0926919e674000f041ea3ffffff69b27d52af3e1012afcb97bc77b83a7620abb0926919e6740010041ea4ffffff69b27d52af3e1012afcb97bc77b83a7620abb0926919e6740011041ea5ffffff69b27d52af3e1012afcb97bc77b83a7620abb0926919e6740000041ca6ffffffea698deead412456dbc488f8a9066326d98c34356919e67400130402a7ffff13afa82121803b4dac9a2072b349c7983ccdbfd96f90712b070028292a14ffff1414492d05b19c73c145d89e20ea9c1b4d53460ba96919e6740015041eabffff1569b27d52af3e1012afcb97bc77b83a7620abb0926919e6740016041eacffff1669b27d52af3e1012afcb97bc77b83a7620abb0926919e6740006041ca7ffff06ea698deead412456dbc488f8a9066326d98c3435d47b0de400182d07ffffff2d21e890d3da79c78f1b149367cf01d06789f95d39d47b0de400182e07ffffff2e21e890d3da79c78f1b149367cf01d06789f95d39d47b0de400182f07ffffff1821e890d3da79c78f1b149367cf01d06789f95d39d47b0de400083007ffffff3021e890d3da79c78f1b149367cf01d06789f95d39d47b0de400083107ffffff0821e890d3da79c78f1b149367cf01d06789f95d3970a082310101ffffffffffffcbb7c0000ab88b473b1f5afd9ef808440eed33bf2e1a7d4d012dffffffffffff4200000000000000000000000000000000000006d0e30db0032dffffffffffff3b56c09543d3068f8488ed34e6f383c3854d2bc1d47b0de4002e3207ffffff3221e890d3da79c78f1b149367cf01d06789f95d39d47b0de4002e3307ffffff2e21e890d3da79c78f1b149367cf01d06789f95d394d49dcf80018041a01b4ff18ea698deead412456dbc488f8a9066326d98c34356919e6740030041eb5ffff3069b27d52af3e1012afcb97bc77b83a7620abb0926919e6740008041cb6ffff08ea698deead412456dbc488f8a9066326d98c3435095ea7b3013703ffffffffffdbfefd2e8460a6ee4955a68582f85708baea60a36e553f65012d01ffffffff2d7fcd174e80f264448ebee8c88a7c4476aaf58ea66919e6740032041eb8ffff3269b27d52af3e1012afcb97bc77b83a7620abb0926919e674002e041eb9ffff2e69b27d52af3e1012afcb97bc77b83a7620abb09270a082310101ffffffffffffcb327b99ff831bf8223cced12b1338ff3aa322ff70a082310101ffffffffffff2ae3f1ec7f1f5012cfeab0185bfc7aa3cf0dec22771602f700322effffffff2e21e890d3da79c78f1b149367cf01d06789f95d39a9059cbb013a2dffffffffff7fcd174e80f264448ebee8c88a7c4476aaf58ea6a9059cbb013a2effffffffff2ae3f1ec7f1f5012cfeab0185bfc7aa3cf0dec22a9059cbb013a18ffffffffffc1cba3fcea344f92d9239c08c0568f6f2f0ee452a60a76b4013bbc3dffffff3d30ee1c022242f4ba03c4e4e2e295f2626446bad470a082310101ffffffffffffcb327b99ff831bf8223cced12b1338ff3aa322ff095ea7b3013e03ffffffffffcbb7c0000ab88b473b1f5afd9ef808440eed33bf771602f7001314ffffffff1421e890d3da79c78f1b149367cf01d06789f95d39771602f7001415ffffffff1421e890d3da79c78f1b149367cf01d06789f95d39771602f7001416ffffffff1421e890d3da79c78f1b149367cf01d06789f95d39771602f7001406ffffffffff21e890d3da79c78f1b149367cf01d06789f95d39771602f7003008ffffffff0821e890d3da79c78f1b149367cf01d06789f95d39771602f700083dffffffffff21e890d3da79c78f1b149367cf01d06789f95d396a627842003effffffffffff513501fbb2e68e55559fab5a049e613ad965b11270a082310101ffffffffffff23418de10d422ad71c9d5713a2b8991a9c58644370a082310101ffffffffff3e23418de10d422ad71c9d5713a2b8991a9c586443a9059cbb013f3effffffffff23418de10d422ad71c9d5713a2b8991a9c58644370a082310101ffffffffff3e833589fcd6edb6e08f4c7c32d4f71b54bda02913a9059cbb013f3effffffffff833589fcd6edb6e08f4c7c32d4f71b54bda0291370a082310101ffffffffff3e7fcd174e80f264448ebee8c88a7c4476aaf58ea6a9059cbb013f3effffffffff7fcd174e80f264448ebee8c88a7c4476aaf58ea670a082310101ffffffffff3e2ae3f1ec7f1f5012cfeab0185bfc7aa3cf0dec22a9059cbb013f3effffffffff2ae3f1ec7f1f5012cfeab0185bfc7aa3cf0dec2270a082310101ffffffffff3ec1cba3fcea344f92d9239c08c0568f6f2f0ee452a9059cbb013f3effffffffffc1cba3fcea344f92d9239c08c0568f6f2f0ee45270a082310101ffffffffff3ecbb7c0000ab88b473b1f5afd9ef808440eed33bfa9059cbb013f3effffffffffcbb7c0000ab88b473b1f5afd9ef808440eed33bf70a082310101ffffffffff3ecb327b99ff831bf8223cced12b1338ff3aa322ffa9059cbb013f3effffffffffcb327b99ff831bf8223cced12b1338ff3aa322ff70a082310101ffffffffff3e9b8df6e244526ab5f6e6400d331db28c8fdddb55a9059cbb013f3effffffffff9b8df6e244526ab5f6e6400d331db28c8fdddb5570a082310101ffffffffff3ed403d1624daef243fbcbd4a80d8a6f36affe32b2a9059cbb013f3effffffffffd403d1624daef243fbcbd4a80d8a6f36affe32b270a082310101ffffffffff3ed6a34b430c05ac78c24985f8abee2616bc1788cba9059cbb013f3effffffffffd6a34b430c05ac78c24985f8abee2616bc1788cb70a082310101ffffffffff3e378c326a472915d38b2d8d41e1345987835fab64a9059cbb013f3effffffffff378c326a472915d38b2d8d41e1345987835fab6470a082310101ffffffffff3eb0505e5a99abd03d94a1169e638b78edfed26ea4a9059cbb013f3effffffffffb0505e5a99abd03d94a1169e638b78edfed26ea470a082310101ffffffffff3e0f813f4785b2360009f9ac9bf6121a85f109efc6a9059cbb013f3effffffffff0f813f4785b2360009f9ac9bf6121a85f109efc670a082310101ffffffffff3e3eb097375fc2fc361e4a472f5e7067238c547c52a9059cbb013f3effffffffff3eb097375fc2fc361e4a472f5e7067238c547c5270a082310101ffffffffff3e7be0cc2cadcd4a8f9901b4a66244dcdd9bd02e0fa9059cbb013f3effffffffff7be0cc2cadcd4a8f9901b4a66244dcdd9bd02e0f70a082310101ffffffffff3ec3de830ea07524a0761646a6a4e4be0e114a3c83a9059cbb013f3effffffffffc3de830ea07524a0761646a6a4e4be0e114a3c8370a082310101ffffffffff3e5ed25e305e08f58afd7995eac72563e6be65a617a9059cbb013f3effffffffff5ed25e305e08f58afd7995eac72563e6be65a61770a082310101ffffffffff3e4200000000000000000000000000000000000006a9059cbb013f3effffffffff420000000000000000000000000000000000000670a082310101ffffffffff01dbfefd2e8460a6ee4955a68582f85708baea60a3a9059cbb013f01ffffffffffdbfefd2e8460a6ee4955a68582f85708baea60a3000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000000840000000000000000000000000000000000000000000000000000000000000088000000000000000000000000000000000000000000000000000000000000008c0000000000000000000000000000000000000000000000000000000000000090000000000000000000000000000000000000000000000000000000000000009400000000000000000000000000000000000000000000000000000000000000a800000000000000000000000000000000000000000000000000000000000000ac00000000000000000000000000000000000000000000000000000000000000b000000000000000000000000000000000000000000000000000000000000000b400000000000000000000000000000000000000000000000000000000000000b800000000000000000000000000000000000000000000000000000000000000bc00000000000000000000000000000000000000000000000000000000000000c000000000000000000000000000000000000000000000000000000000000000c400000000000000000000000000000000000000000000000000000000000000c800000000000000000000000000000000000000000000000000000000000000cc00000000000000000000000000000000000000000000000000000000000000d000000000000000000000000000000000000000000000000000000000000000d400000000000000000000000000000000000000000000000000000000000000d800000000000000000000000000000000000000000000000000000000000000dc00000000000000000000000000000000000000000000000000000000000000e000000000000000000000000000000000000000000000000000000000000000e400000000000000000000000000000000000000000000000000000000000000e800000000000000000000000000000000000000000000000000000000000000ec00000000000000000000000000000000000000000000000000000000000000f000000000000000000000000000000000000000000000000000000000000000f400000000000000000000000000000000000000000000000000000000000000f800000000000000000000000000000000000000000000000000000000000000fc0000000000000000000000000000000000000000000000000000000000000108000000000000000000000000000000000000000000000000000000000000010c0000000000000000000000000000000000000000000000000000000000000120000000000000000000000000000000000000000000000000000000000000012400000000000000000000000000000000000000000000000000000000000001360000000000000000000000000000000000000000000000000000000000000148000000000000000000000000000000000000000000000000000000000000015c000000000000000000000000000000000000000000000000000000000000016e0000000000000000000000000000000000000000000000000000000000000180000000000000000000000000000000000000000000000000000000000000019200000000000000000000000000000000000000000000000000000000000001a400000000000000000000000000000000000000000000000000000000000001b800000000000000000000000000000000000000000000000000000000000001cc00000000000000000000000000000000000000000000000000000000000001d000000000000000000000000000000000000000000000000000000000000001d400000000000000000000000000000000000000000000000000000000000001d800000000000000000000000000000000000000000000000000000000000001ea00000000000000000000000000000000000000000000000000000000000001fc000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000002040000000000000000000000000000000000000000000000000000000000000208000000000000000000000000000000000000000000000000000000000000020c00000000000000000000000000000000000000000000000000000000000002100000000000000000000000000000000000000000000000000000000000000214000000000000000000000000000000000000000000000000000000000000021800000000000000000000000000000000000000000000000000000000000002240000000000000000000000000000000000000000000000000000000000000236000000000000000000000000000000000000000000000000000000000000024a000000000000000000000000000000000000000000000000000000000000024e000000000000000000000000000000000000000000000000000000000000026000000000000000000000000000000000000000000000000000000000000002720000000000000000000000000000000000000000000000000000000000000276000000000000000000000000000000000000000000000000000000000000027a0000000000000000000000000000000000000000000000000000000000000288000000000000000000000000000000000000000000000000000000000000028c000000000000000000000000000000000000000000000000000000000000029000000000000000000000000000000000000000000000000000000000000000020e43485f782af081981a532aae0908f0dee5b6070ae9fd3e23e8023f1664cc33f000000000000000000000000000000000000000000000000000000000000002000000000000000000000000021e890d3da79c78f1b149367cf01d06789f95d3900000000000000000000000000000000000000000000000000000000000000200000000000000000000000001b81d678ffb9c0263b24a97847620c99d213eb140000000000000000000000000000000000000000000000000000000000000020ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001200000000000000000000000000000000000000000000000000000000000000100000000000000000000000000833589fcd6edb6e08f4c7c32d4f71b54bda029130000000000000000000000004200000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000006400000000000000000000000021e890d3da79c78f1b149367cf01d06789f95d39000000000000000000000000000000000000000000000000ffffffffffffffff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000559adcd5f4cedcc00000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000de0b6b3a7640000000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000004922ce5f162ad8000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000211fc94c9fcb20000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000050628535da3f240000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000004b158e160c1b1c00000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000046eb8b00183fb40000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000002ec92bef67c2a60000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000003337078c76856400000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000027937fe1538530000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000336e5527bef3ac0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000001f3d9188bb3e44000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000243c33330d1996000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000002c3ed4d78cdd460000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000002c982fcf2b8b500000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000002c662b7abb96160000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000002c2d5fa4bb535e0000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000002ca0db7446edf6000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000a70bdf9622139e00000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000036ff8ba4542c6200000000000000000000000000000000000000000000000000000000000000020000000000000000000000000cf77a3ba9a5ca399b7c97c74d54e5b1beb874e4300000000000000000000000000000000000000000000000000000000000000a0000000000000000000000000000000000000000000000000000000000000008000000000000000000000000042000000000000000000000000000000000000060000000000000000000000009b8df6e244526ab5f6e6400d331db28c8fdddb550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000420dd381b31aef6683db6b902084cb0ffece40da0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000be6d8f0d05cc4be24d5167a3ef062215be6d18a5000000000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000000001000000000000000000000000004200000000000000000000000000000000000006000000000000000000000000d403d1624daef243fbcbd4a80d8a6f36affe32b2000000000000000000000000000000000000000000000000000000000000006400000000000000000000000021e890d3da79c78f1b149367cf01d06789f95d39000000000000000000000000000000000000000000000000ffffffffffffffff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000200000000000000000000000002626664c2603336e57b271c5c0b26f421741e481000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000e00000000000000000000000004200000000000000000000000000000000000006000000000000000000000000d6a34b430c05ac78c24985f8abee2616bc1788cb0000000000000000000000000000000000000000000000000000000000000bb800000000000000000000000021e890d3da79c78f1b149367cf01d06789f95d3900000000000000000000000000000000000000000000000000005310d52e0e1c00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000e00000000000000000000000004200000000000000000000000000000000000006000000000000000000000000378c326a472915d38b2d8d41e1345987835fab640000000000000000000000000000000000000000000000000000000000000bb800000000000000000000000021e890d3da79c78f1b149367cf01d06789f95d3900000000000000000000000000000000000000000000000000004e75808bde7100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000000001000000000000000000000000004200000000000000000000000000000000000006000000000000000000000000b0505e5a99abd03d94a1169e638b78edfed26ea400000000000000000000000000000000000000000000000000000000000009c400000000000000000000000021e890d3da79c78f1b149367cf01d06789f95d39000000000000000000000000000000000000000000000000ffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000e000000000000000000000000042000000000000000000000000000000000000060000000000000000000000000f813f4785b2360009f9ac9bf6121a85f109efc60000000000000000000000000000000000000000000000000000000000000bb800000000000000000000000021e890d3da79c78f1b149367cf01d06789f95d39000000000000000000000000000000000000000000000000000038a8bffbd69500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000e000000000000000000000000042000000000000000000000000000000000000060000000000000000000000003eb097375fc2fc361e4a472f5e7067238c547c520000000000000000000000000000000000000000000000000000000000000bb800000000000000000000000021e890d3da79c78f1b149367cf01d06789f95d3900000000000000000000000000000000000000000000000000002bc87dea178e00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000e000000000000000000000000042000000000000000000000000000000000000060000000000000000000000007be0cc2cadcd4a8f9901b4a66244dcdd9bd02e0f0000000000000000000000000000000000000000000000000000000000000bb800000000000000000000000021e890d3da79c78f1b149367cf01d06789f95d39000000000000000000000000000000000000000000000000000038e5ee9037a000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000e00000000000000000000000004200000000000000000000000000000000000006000000000000000000000000c3de830ea07524a0761646a6a4e4be0e114a3c83000000000000000000000000000000000000000000000000000000000000271000000000000000000000000021e890d3da79c78f1b149367cf01d06789f95d390000000000000000000000000000000000000000000000000000228fb89442e3000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000120000000000000000000000000000000000000000000000000000000000000010000000000000000000000000042000000000000000000000000000000000000060000000000000000000000005ed25e305e08f58afd7995eac72563e6be65a61700000000000000000000000000000000000000000000000000000000000000c800000000000000000000000021e890d3da79c78f1b149367cf01d06789f95d39000000000000000000000000000000000000000000000000ffffffffffffffff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000000001000000000000000000000000004200000000000000000000000000000000000006000000000000000000000000cbb7c0000ab88b473b1f5afd9ef808440eed33bf000000000000000000000000000000000000000000000000000000000000006400000000000000000000000021e890d3da79c78f1b149367cf01d06789f95d39000000000000000000000000000000000000000000000000ffffffffffffffff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000200000000000000000000000004fe4a5f570b046e3704acd72fef6c508a310d3aa0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000200000000000000000000000004200000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000e00000000000000000000000004200000000000000000000000000000000000006000000000000000000000000cbb7c0000ab88b473b1f5afd9ef808440eed33bf00000000000000000000000000000000000000000000000000000000000001f400000000000000000000000021e890d3da79c78f1b149367cf01d06789f95d3900000000000000000000000000000000000000000000000000012efd0f9772bc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000e00000000000000000000000004200000000000000000000000000000000000006000000000000000000000000cbb7c0000ab88b473b1f5afd9ef808440eed33bf0000000000000000000000000000000000000000000000000000000000000bb800000000000000000000000021e890d3da79c78f1b149367cf01d06789f95d3900000000000000000000000000000000000000000000000000012d7978c9386800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000004a9d480ba0b8940000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000004a4bcbf75f5ce000000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000049225737762a8c0000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000006e8509457e07a40000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000006f8661f4f8385c0000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000006f3c6fb61039c80000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000006ecefb84660638000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000800000000000000000000000004200000000000000000000000000000000000006000000000000000000000000c1cba3fcea344f92d9239c08c0568f6f2f0ee4520000000000000000000000000000000000000000000000000000000000000000000000000000000000000000420dd381b31aef6683db6b902084cb0ffece40da000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000e00000000000000000000000004200000000000000000000000000000000000006000000000000000000000000cb327b99ff831bf8223cced12b1338ff3aa322ff000000000000000000000000000000000000000000000000000000000000006400000000000000000000000021e890d3da79c78f1b149367cf01d06789f95d3900000000000000000000000000000000000000000000000000009f99897f9d6600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000000001000000000000000000000000004200000000000000000000000000000000000006000000000000000000000000cb327b99ff831bf8223cced12b1338ff3aa322ff000000000000000000000000000000000000000000000000000000000000000100000000000000000000000021e890d3da79c78f1b149367cf01d06789f95d39000000000000000000000000000000000000000000000000ffffffffffffffff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000200000000000000000000000007fcd174e80f264448ebee8c88a7c4476aaf58ea6000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000e000000000000000000000000042000000000000000000000000000000000000060000000000000000000000002ae3f1ec7f1f5012cfeab0185bfc7aa3cf0dec2200000000000000000000000000000000000000000000000000000000000001f400000000000000000000000021e890d3da79c78f1b149367cf01d06789f95d390000000000000000000000000000000000000000000000000000a33fec2071af00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000e000000000000000000000000042000000000000000000000000000000000000060000000000000000000000002ae3f1ec7f1f5012cfeab0185bfc7aa3cf0dec22000000000000000000000000000000000000000000000000000000000000006400000000000000000000000021e890d3da79c78f1b149367cf01d06789f95d390000000000000000000000000000000000000000000000000000a29f49c8bce200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002000000000000000000000000030ee1c022242f4ba03c4e4e2e295f2626446bad40000000000000000000000000000000000000000000000000000000000000020000000000000000000000000eb2071e9b542555e90e6e4e1f83fa1742358399100000000000000000000000000000000000000000000000000000000000000c000000000000000000000000000000000000000000000000000000000000000a0000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000030000000000000000000000007fcd174e80f264448ebee8c88a7c4476aaf58ea60000000000000000000000002ae3f1ec7f1f5012cfeab0185bfc7aa3cf0dec22000000000000000000000000c1cba3fcea344f92d9239c08c0568f6f2f0ee4520000000000000000000000000000000000000000000000000000000000000020000000000000000000000000cb327b99ff831bf8223cced12b1338ff3aa322ff000000000000000000000000000000000000000000000000000000000000002000000000000000000000000023418de10d422ad71c9d5713a2b8991a9c5864430000000000000000000000000000000000000000000000000000000000000020000000000000000000000000${
    recipient?.slice(2) ?? "0x0000000000000000000000000000000000000000"
  }0000000000000000000000000000000000000000000000000000000000000012000000000000000000000000833589fcd6edb6e08f4c7c32d4f71b54bda029130000000000000000000000007fcd174e80f264448ebee8c88a7c4476aaf58ea60000000000000000000000002ae3f1ec7f1f5012cfeab0185bfc7aa3cf0dec22000000000000000000000000c1cba3fcea344f92d9239c08c0568f6f2f0ee452000000000000000000000000cbb7c0000ab88b473b1f5afd9ef808440eed33bf000000000000000000000000cb327b99ff831bf8223cced12b1338ff3aa322ff0000000000000000000000009b8df6e244526ab5f6e6400d331db28c8fdddb55000000000000000000000000d403d1624daef243fbcbd4a80d8a6f36affe32b2000000000000000000000000d6a34b430c05ac78c24985f8abee2616bc1788cb000000000000000000000000378c326a472915d38b2d8d41e1345987835fab64000000000000000000000000b0505e5a99abd03d94a1169e638b78edfed26ea40000000000000000000000000f813f4785b2360009f9ac9bf6121a85f109efc60000000000000000000000003eb097375fc2fc361e4a472f5e7067238c547c520000000000000000000000007be0cc2cadcd4a8f9901b4a66244dcdd9bd02e0f000000000000000000000000c3de830ea07524a0761646a6a4e4be0e114a3c830000000000000000000000005ed25e305e08f58afd7995eac72563e6be65a6170000000000000000000000004200000000000000000000000000000000000006000000000000000000000000dbfefd2e8460a6ee4955a68582f85708baea60a3`;

  const erc20Interface = new ethers.Interface(erc20Abi);
  const approveData = erc20Interface.encodeFunctionData("approve", [
    "0x00c2e5d94bd090763acb5ff6ac2ebd04c1f71020", // Zapper2 Contract
    ethers.MaxUint256,
  ]);

  const hookData = [
    {
      target: "0x833589fcd6edb6e08f4c7c32d4f71b54bda02913" as `0x${string}`, // USDC contract
      callData: approveData as `0x${string}`, // Approval calldata
      callType: 1, // Utlize full output token balance of swap
      tokenAddress:
        "0x833589fcd6edb6e08f4c7c32d4f71b54bda02913" as `0x${string}`, // USDC on Base
      inputPos: 1, // Modify the amount in 2nd position
    },
    {
      target: "0x00c2e5d94bd090763acb5ff6ac2ebd04c1f71020" as `0x${string}`, // Zapper2 contract
      callData: callData as `0x${string}`, // BuyToken function call
      callType: 1, // Utlize full token balance after previous function
      tokenAddress:
        "0x833589fcd6edb6e08f4c7c32d4f71b54bda02913" as `0x${string}`, // native used
      inputPos: 2, // Modify amount in 3rd position (0th represents struct, then 2nd in seq)
    },
  ];

  return (
    <div className="grid grid-rows-[20px_1fr_20px] items-center justify-items-center p-8 pb-20 gap-16 sm:p-20 font-[family-name:var(--font-geist-sans)]">
      <main className="flex flex-col gap-8 row-start-2 items-center sm:items-start">
        <div className="text-2xl text-[#AF3BC9] mt-5">
          Buy Bloomberg Galaxy Crypto Index DTF with Reserve
        </div>
        <div className="text-md text-[#AF3BC9] mt-5">
          Pay with any token, any chain and all funds and bridged and deposited
          as USDC on Zapper2 contract deployed on Base and user gets DTF on
          receiving address.
        </div>
        <div className="text-2xl text-[#AF3BC9] mt-5">About this DTF</div>
        <div className="text-md text-[#AF3BC9] mt-5">
          The Bloomberg Galaxy Crypto Index DTF tracks the Bloomberg Galaxy
          Crypto Index (“BGCI”). The BGCI is a benchmark designed to measure the
          performance of the largest cryptocurrencies by market capitalization
          traded in USD. The Index is owned and administered by Bloomberg and
          co-branded with Galaxy Digital Capital Management. Index constituents
          are selected based on qualified exchange and daily liquidity
          qualifications set forth by BGCI rules. Each constituent represents a
          holding no more than 35% of the Index and no less than 1% of the
          Index’s overall value. Cryptocurrencies are considered for
          addition/removal to/from the Index on a monthly basis.
        </div>
        <div className="text-md text-[#AF3BC9] mt-5">
          Enter $BCGI recipient address
        </div>
        <input
          type="text"
          value={recipient}
          onChange={(e) => setRecipient(e.target.value as `0x${string}`)}
          placeholder="0x..."
          className="border-2 border-[#AF3BC9] p-2 rounded-md text-black"
        />
        <div className="text-md text-[#AF3BC9] mt-1">
          For more details, checkout Reserve Protocol -
          https://app.reserve.org/base/index-dtf/0x23418de10d422ad71c9d5713a2b8991a9c586443/overview
        </div>

        <DooglyButton
          // Checkout button text to trigger modal
          buttonText="Checkout"
          // Add tailwind css classname for the checkout button
          buttonClassName="bg-purple-600 text-white border-none py-2 px-4 text-center text-lg rounded transition duration-300 ease-in-out hover:bg-purple-700"
          modalTitle="Checkout with Doogly"
          apiUrl="https://api.doogly.org"
          config={{
            destinationChain: "8453",
            destinationAddress:
              recipient ?? "0x0000000000000000000000000000000000000000",
            destinationOutputTokenAddress:
              "0x833589fcd6edb6e08f4c7c32d4f71b54bda02913",
          }}
          postSwapHook={hookData}
          modalStyles={{
            backgroundColor: "#FFFFFF",
            buttonColor: "#AF3BC9",
            textColor: "#AF3BC9",
            headingColor: "#AF3BC9",
          }}
        />
      </main>
    </div>
  );
}
